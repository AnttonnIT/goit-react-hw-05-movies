"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[458],{1454:function(t,e,n){n.d(e,{a:function(){return s}});var r,a=n(5243),c=n(168),u=n(7402).Z.div(r||(r=(0,c.Z)(["\n  position: absolute;\n  top: 10%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),o=n(184);function s(){return(0,o.jsx)(u,{children:(0,o.jsx)(a.g4,{height:"80",width:"80",radius:"9",color:"#4fa94d",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})})}},4126:function(t,e,n){n.d(e,{e:function(){return u}});var r=n(1087),a=n(7689),c=n(184);function u(t){var e=t.movies,n=(0,a.TH)();return(0,c.jsx)("ul",{children:e.map((function(t){var e=t.id,a=t.title;return(0,c.jsx)("li",{children:(0,c.jsx)(r.rU,{to:"/movies/".concat(e),state:{from:n},children:a})},e)}))})}},5458:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var r=n(5861),a=n(9439),c=n(4687),u=n.n(c),o=n(1454),s=n(4126),i=n(2791),f=n(184);function p(t){var e=t.onSearch,n=(0,i.useState)(""),r=(0,a.Z)(n,2),c=r[0],u=r[1];return(0,f.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(c),t.currentTarget.reset()},children:[(0,f.jsx)("label",{children:(0,f.jsx)("input",{type:"text",name:"query",onChange:function(t){u(t.target.value.trim().toLowerCase())}})}),(0,f.jsx)("button",{type:"submit",children:"Search"})]})}var l=n(937),h=n(1087);function v(){var t=(0,i.useState)([]),e=(0,a.Z)(t,2),n=e[0],c=e[1],v=(0,h.lr)(),d=(0,a.Z)(v,2),m=d[0],x=d[1],g=m.get("query"),w=(0,i.useState)(!1),Z=(0,a.Z)(w,2),b=Z[0],k=Z[1],y=(0,i.useState)(!1),j=(0,a.Z)(y,2),S=j[0],_=j[1],q=(0,i.useState)(!1),C=(0,a.Z)(q,2),L=C[0],T=C[1];(0,i.useEffect)((function(){if(g){var t=function(){var t=(0,r.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,k(!0),T(!1),t.next=5,(0,l.Qu)(g);case 5:(e=t.sent).results.length||T(!0),c(e.results),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),_(t.t0),console.log(t.t0);case 14:return t.prev=14,k(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,10,14,17]])})));return function(){return t.apply(this,arguments)}}();t()}}),[g]);return(0,f.jsxs)("section",{children:[(0,f.jsx)(p,{onSearch:function(t){""!==t&&x({query:t})}}),b&&(0,f.jsx)(o.a,{}),S&&(0,f.jsx)("h2",{children:"Oops, something went wrong... "}),n.length>0&&(0,f.jsx)(s.e,{movies:n}),L&&(0,f.jsxs)("h2",{children:["no films found for this query - ",g]})]})}},937:function(t,e,n){n.d(e,{Df:function(){return v},M1:function(){return x},Qu:function(){return d},TP:function(){return m},tx:function(){return g}});var r=n(8683),a=n(5861),c=n(4687),u=n.n(c),o=n(1912);o.Z.defaults.baseURL="https://api.themoviedb.org/3";var s="30b387244ee5c8a51c0c80e828c65743",i="/trending/movie/week",f="/search/movie",p="/movie",l="/credits",h="/reviews",v=function(){var t=(0,a.Z)(u().mark((function t(){var e,n,r,a=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:1,t.next=3,o.Z.get("".concat(i,"?api_key=").concat(s,"&page=").concat(e));case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=(0,a.Z)(u().mark((function t(e){var n,r,a,c=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,t.next=3,o.Z.get("".concat(f,"?api_key=").concat(s,"&page=").concat(n,"&query=").concat(e));case 3:return r=t.sent,a=r.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=(0,a.Z)(u().mark((function t(e){var n,a,c,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("".concat(p,"/").concat(e,"?api_key=").concat(s));case 2:return n=t.sent,a=n.data,c=a.poster_path,i="https://image.tmdb.org/t/p/w400/".concat(c),t.abrupt("return",(0,r.Z)((0,r.Z)({},a),{},{posterUrl:i}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=(0,a.Z)(u().mark((function t(e){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/movie/".concat(e).concat(l,"?api_key=").concat(s));case 2:return n=t.sent,r=n.data,t.abrupt("return",r.cast.slice(0,10));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=(0,a.Z)(u().mark((function t(e){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/movie/".concat(e).concat(h,"?api_key=").concat(s));case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=458.bcdd088b.chunk.js.map